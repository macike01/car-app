<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explore â€“ Car Crew</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-p1BsZtnDOr+j1Y8gJtXlkBrcgzHa7cvqvMHPm7guL+Yry3zMk6M64CFw6Ui/jQKWMJZMXjae2Rnxw8oII+zE0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body>
  <header class="navbar">
    <div class="nav-left">
      <a href="index.html" class="logo">Car Crew</a>
    </div>
    <nav class="nav-links">
      <a href="profile.html">Profile</a>
      <a href="ride.html">Ride</a>
      <a href="clubs.html">Clubs</a>
      <a href="explore.html" class="active">Explore</a>
          <a href="leaderboard.html">Leaderboard</a>
          <!-- Admin dashboard link -->
          <a href="admin.html">Admin</a>
          <a href="blog.html">Blog</a>
      <a href="admin.html">Admin</a>
    </nav>
  </header>
  <main>
    <h1 class="section-title">Explore the World</h1>
    <p style="text-align:center; max-width:600px; margin:0 auto 1rem auto; color:var(--muted);">
      Discover iconic destinations and earn badges. Each place gives you points on
      your first visit.
    </p>
    <div style="display:flex; justify-content:center; margin-bottom:1.5rem;">
      <i class="fas fa-globe fa-5x" style="color: var(--secondary);"></i>
    </div>
    <div class="places-list" style="max-width:700px; margin:0 auto;">
      <div style="display:flex; justify-content:space-between; align-items:center; padding:0.75rem 1rem; background-color:var(--light); border-radius:var(--border-radius); box-shadow:0 4px 6px rgba(0,0,0,0.05); margin-bottom:0.75rem;" class="place-item" data-id="rome">
        <div>
          <strong>Rome, Italy</strong>
          <p style="color:var(--muted); font-size:0.85rem;">Historic sites &amp; Italian cuisine</p>
        </div>
        <button class="btn secondary visit-btn">Visit</button>
      </div>
      <div style="display:flex; justify-content:space-between; align-items:center; padding:0.75rem 1rem; background-color:var(--light); border-radius:var(--border-radius); box-shadow:0 4px 6px rgba(0,0,0,0.05); margin-bottom:0.75rem;" class="place-item" data-id="berlin">
        <div>
          <strong>Berlin, Germany</strong>
          <p style="color:var(--muted); font-size:0.85rem;">Modern culture &amp; history</p>
        </div>
        <button class="btn secondary visit-btn">Visit</button>
      </div>
      <div style="display:flex; justify-content:space-between; align-items:center; padding:0.75rem 1rem; background-color:var(--light); border-radius:var(--border-radius); box-shadow:0 4px 6px rgba(0,0,0,0.05); margin-bottom:0.75rem;" class="place-item" data-id="paris">
        <div>
          <strong>Paris, France</strong>
          <p style="color:var(--muted); font-size:0.85rem;">City of lights &amp; romance</p>
        </div>
        <button class="btn secondary visit-btn">Visit</button>
      </div>
      <div style="display:flex; justify-content:space-between; align-items:center; padding:0.75rem 1rem; background-color:var(--light); border-radius:var(--border-radius); box-shadow:0 4px 6px rgba(0,0,0,0.05); margin-bottom:0.75rem;" class="place-item" data-id="nyc">
        <div>
          <strong>New York, USA</strong>
          <p style="color:var(--muted); font-size:0.85rem;">The city that never sleeps</p>
        </div>
        <button class="btn secondary visit-btn">Visit</button>
      </div>
      <div style="display:flex; justify-content:space-between; align-items:center; padding:0.75rem 1rem; background-color:var(--light); border-radius:var(--border-radius); box-shadow:0 4px 6px rgba(0,0,0,0.05); margin-bottom:0.75rem;" class="place-item" data-id="tokyo">
        <div>
          <strong>Tokyo, Japan</strong>
          <p style="color:var(--muted); font-size:0.85rem;">Futuristic city &amp; tradition</p>
        </div>
        <button class="btn secondary visit-btn">Visit</button>
      </div>
    </div>
    <div class="visited-list" style="max-width:700px; margin:1.5rem auto 0 auto;">
      <h2 style="color:var(--primary); margin-bottom:0.5rem;">Visited Places</h2>
      <ul id="visitedList" style="list-style:none; padding-left:0; color:var(--muted);"></ul>
    </div>
  </main>
  <footer>
    <p>&copy; 2025 Car Crew Network</p>
  </footer>
  <script src="script.js"></script>
  <script>
    (function() {
      // Map place id to nice name for display
      const placeNames = {
        'rome': 'Rome, Italy',
        'berlin': 'Berlin, Germany',
        'paris': 'Paris, France',
        'nyc': 'New York, USA',
        'tokyo': 'Tokyo, Japan'
      };
      const visitedListEl = document.getElementById('visitedList');
      function refreshVisited() {
        const user = window.carCrew.getUser();
        visitedListEl.innerHTML = '';
        const visitedIds = user.visited.filter((id) => placeNames[id]);
        if (visitedIds.length === 0) {
          const li = document.createElement('li');
          li.textContent = 'No locations visited yet.';
          visitedListEl.appendChild(li);
        } else {
          visitedIds.forEach((id) => {
            const li = document.createElement('li');
            li.textContent = placeNames[id];
            visitedListEl.appendChild(li);
          });
        }
        // update buttons state
        document.querySelectorAll('.place-item').forEach((item) => {
          const id = item.getAttribute('data-id');
          const btn = item.querySelector('.visit-btn');
          if (visitedIds.includes(id)) {
            btn.textContent = 'Visited';
            btn.classList.add('completed');
            btn.disabled = true;
          }
        });
      }
      refreshVisited();
      document.querySelectorAll('.visit-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          const parent = btn.closest('.place-item');
          const id = parent.getAttribute('data-id');
          const user = window.carCrew.getUser();
          if (!user.visited.includes(id)) {
            window.carCrew.markVisited(id);
            alert(`You visited ${placeNames[id]}! +25 points`);
            refreshVisited();
          }
        });
      });
    })();
  </script>
  <style>
    .btn.completed {
      background-color: #ccc;
      color: #444;
      cursor: not-allowed;
      border-color: #ccc;
    }
  </style>
</body>
</html>